---
layout: post
title: an interview question
category: study
---
<h2>{{page.title}}</h2>
<p>最近面试总喜欢问一个问题。题目的描述如是：在一个有重复value的数组中，对于给定的target可以随机等概率地返回该target的下标。这里可以给一个生成任意范围的随机函数。</p>
<p>例子：array a= [3,1,4,3,2,3,4,5,3], target = 3。则程序应该等概率地返回0,3,5,8这四个值。</p>
<p>这个问题的解法有很多，很多，首先最简单的就是先遍历一遍数组，然后将值等于target的下标存下来，之后随机返回一个即可。但是显然这个解法不够好，时间复杂度明显为O(N),空间复杂度也明显为O(N)。</p>
<p>当然有更好的解法。第一种方法，其实并不需要将每个值为target的下表都存下来，只需要记录其中的target出现的个数x，随机生成1-x中的任意整数y，再次遍历数组，数到第y个target立即返回。这个方法空间就降到了O(1)。是一种理想的做法。</p>
<p>另一种思路，当统计好有x个target的时候，有些选手喜欢从头开始数，遇到target的时候，以概率p来决定要不要返回。有一些选手想当然地认为对于每一个target，都要以1/x的概率来返回。但是这显然是错误的，因为这其实是一连串的条件概率的问题。自己算算就明白了其实^^</p>
<p>最后一种思路，只要知道数组的长度l,接下来生成一个0-l-1的随机数，并判断该位置的数字是否等于target,如果等于的话，就立即返回，否则的话继续生成0-l-1中的随机数。这个方法还不错，但是有一个小小的问题就是，有一定的概率程序会永远地跑下去run and run....</p>
<h3>接下来的一段留白，留给一个小伙伴，希望你能看到里面的内容^^</h3>
<p style="color:white">Thank you for the best memory in the 130 days of my life. Thank you for the best journey in my 26 years. I was so happy during that time, every second with you. Huhuhu... It was so hard to say good bye and breakup, but I need to take good care of my past and I need to face the music of my family. I know it was so hard for you, but I suppose this will harm you not that mush. And it was so hard to say when I get all the two issues done, I would come to get you. But I could say, I will take you as my only girl in my next life. If you have any trouble that you could hardly find any help, just tell me, and I will try my best for my perfect girl<strong style="color:black">.^^ Can you see them?^^</strong></p>
 
