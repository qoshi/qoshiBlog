<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>homework</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="homework"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-07-27T17:22+0800"/>
<meta name="author" content="Lulala"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">homework</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 how to visit</a></li>
<li><a href="#sec-2">2 what does this do</a>
<ul>
<li><a href="#sec-2-1">2.1 show a picture</a></li>
<li><a href="#sec-2-2">2.2 make some random zones</a></li>
<li><a href="#sec-2-3">2.3 apply some functions</a>
<ul>
<li><a href="#sec-2-3-1">2.3.1 move</a></li>
<li><a href="#sec-2-3-2">2.3.2 zoom</a></li>
<li><a href="#sec-2-3-3">2.3.3 tap</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-3">3 How I solved this homework</a>
<ul>
<li><a href="#sec-3-1">3.1 cut into pieces</a></li>
<li><a href="#sec-3-2">3.2 how to apply move and zoom</a></li>
<li><a href="#sec-3-3">3.3 how to apply zones?</a></li>
</ul>
</li>
<li><a href="#sec-4">4 framework</a></li>
<li><a href="#sec-5">5 hammer.js</a></li>
<li><a href="#sec-6">6 html</a></li>
<li><a href="#sec-7">7 css</a></li>
<li><a href="#sec-8">8 javascript</a>
<ul>
<li><a href="#sec-8-1">8.1 main.js</a></li>
<li><a href="#sec-8-2">8.2 slave.js</a>
<ul>
<li><a href="#sec-8-2-1">8.2.1 class Info</a></li>
<li><a href="#sec-8-2-2">8.2.2 function checkOne</a></li>
<li><a href="#sec-8-2-3">8.2.3 function getSomeZone</a></li>
</ul>
</li>
<li><a href="#sec-8-3">8.3 Pic.js</a>
<ul>
<li><a href="#sec-8-3-1">8.3.1 arguments</a></li>
<li><a href="#sec-8-3-2">8.3.2 local variables</a></li>
<li><a href="#sec-8-3-3">8.3.3 build doom treenonno</a></li>
<li><a href="#sec-8-3-4">8.3.4 draw the picture and the zones</a></li>
<li><a href="#sec-8-3-5">8.3.5 apply the event function</a></li>
<li><a href="#sec-8-3-6">8.3.6 bind the event</a></li>
<li><a href="#sec-8-3-7">8.3.7 open some API for others.</a></li>
</ul></li>
</ul>
</li>
<li><a href="#sec-9">9 Thank you</a></li>
<li><a href="#sec-10">10 My Blog</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> how to visit</h2>
<div class="outline-text-2" id="text-1">

<p>   <a href="http://./homework.html">http://./homework.html</a>

</p>
<hr/>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> what does this do</h2>
<div class="outline-text-2" id="text-2">

<p>   this homework was required to finish a static web of mobile device. The requirements are shown below:

</p>
<hr/>

</div>

<div id="outline-container-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> show a picture</h3>
<div class="outline-text-3" id="text-2-1">

<p>    show a picture on screen and the picture is little biger than the screen. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> make some random zones</h3>
<div class="outline-text-3" id="text-2-2">

<p>    make some random zones, and when we tap those zones, some text will pop up on that zone. 
    But when we tap other place outside the zone, nothing is going to happen. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> apply some functions</h3>
<div class="outline-text-3" id="text-2-3">

<p>    some functions are shown below:
</p>
</div>

<div id="outline-container-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> move</h4>
<div class="outline-text-4" id="text-2-3-1">

<p>     we can drag the picture to move it. 
</p>
</div>

</div>

<div id="outline-container-2-3-2" class="outline-4">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> zoom</h4>
<div class="outline-text-4" id="text-2-3-2">

<p>     we can pinch to zoom the picture. 
</p>
</div>

</div>

<div id="outline-container-2-3-3" class="outline-4">
<h4 id="sec-2-3-3"><span class="section-number-4">2.3.3</span> tap</h4>
<div class="outline-text-4" id="text-2-3-3">

<p>     when we tap in the zones, it will tell the number of these zones. 

</p>
<hr/>
</div>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> How I solved this homework</h2>
<div class="outline-text-2" id="text-3">


</div>

<div id="outline-container-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> cut into pieces</h3>
<div class="outline-text-3" id="text-3-1">

<p>    I cut the problem into pieces and some them one by one. 
</p></div>

</div>

<div id="outline-container-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> how to apply move and zoom</h3>
<div class="outline-text-3" id="text-3-2">

<p>     I try to make these two things separated. So I use canvas to finish zoom. when zooming I change the zoome velue and caculate the new width and height of the canvas and just redraw the picture. 
     When dragging I just need to change the left and top of the canvas. 
     So, these two things just seprated. 
     These may seems easy. But, last time I do this with svg picture. These two things are mixed and really make me crazy. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> how to apply zones?</h3>
<div class="outline-text-3" id="text-3-3">

<p>     There were two ideas in my mind. First, I want to generate some divs. Second, I want to draw them on the canvas. 
     After struggling, I choose the second one. There are severl reasons. 
     First, If I use divs, the dom tree may become so big and complicated. And when zooming and moving, I need to refresh their position one by one, and this looks terrible. 

</p>
<hr/>
</div>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> framework</h2>
<div class="outline-text-2" id="text-4">

<p>   I build the html with two divs and two buttons to show the pictures and some functions. Then put something in css to make the web looks not that bad. All the important things were put in three javascript file to finish the functions are required. 
----
</p></div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> hammer.js</h2>
<div class="outline-text-2" id="text-5">

<p>   I use hammer.js to bind the events, because it is convenient to use. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> html</h2>
<div class="outline-text-2" id="text-6">

<p>   In the html,I set the charset with "utf-8",and set the viewpoint and something about scale. 
   The fisrt div contain some words to tell user how to user this. 
   The second div is container of the picture. 
   After that, two buttons are seted. The first one is to toggle the zones' visiablity. The second one is to regenerate the zones. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> css</h2>
<div class="outline-text-2" id="text-7">

<p>   There are not much things in css file, so nothing to tell. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> javascript</h2>
<div class="outline-text-2" id="text-8">

<p>   There are three part of the javaScript file, which are named main.js, slave.js, pic.js. 
</p>
</div>

<div id="outline-container-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> main.js</h3>
<div class="outline-text-3" id="text-8-1">

<p>    this is the entrance of the program. First, it just disable the browser to response the drag events. Second, it create a object of Pic. And then bind the functions to the two buttons. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> slave.js</h3>
<div class="outline-text-3" id="text-8-2">

<p>    slave.js contain 1 class and 2 functions, which are used to do somethings helpful. 
</p>
</div>

<div id="outline-container-8-2-1" class="outline-4">
<h4 id="sec-8-2-1"><span class="section-number-4">8.2.1</span> class Info</h4>
<div class="outline-text-4" id="text-8-2-1">

<p>     when we tap the zones, we could see a div and some text in the zone. That div is an object of this class. 
     local variable defaultWidth and defaultHeight are the default width and height of the div when we create object of this. 
     This class is so easy. 
</p>
</div>

</div>

<div id="outline-container-8-2-2" class="outline-4">
<h4 id="sec-8-2-2"><span class="section-number-4">8.2.2</span> function checkOne</h4>
<div class="outline-text-4" id="text-8-2-2">

<p>     This function is used to check whether a zone(zone) overlaps with another(now). If so return true, else return false. 
</p>
</div>

</div>

<div id="outline-container-8-2-3" class="outline-4">
<h4 id="sec-8-2-3"><span class="section-number-4">8.2.3</span> function getSomeZone</h4>
<div class="outline-text-4" id="text-8-2-3">

<p>     generate some(counts) zones and they are not overlaped with each other. 

</p>
<hr/>
</div>
</div>

</div>

<div id="outline-container-8-3" class="outline-3">
<h3 id="sec-8-3"><span class="section-number-3">8.3</span> Pic.js</h3>
<div class="outline-text-3" id="text-8-3">

<p>    this js file is the most important part of the homework. 
</p>
</div>

<div id="outline-container-8-3-1" class="outline-4">
<h4 id="sec-8-3-1"><span class="section-number-4">8.3.1</span> arguments</h4>
<div class="outline-text-4" id="text-8-3-1">

<p>     div - container of the picture
     url - the url of the picture
</p>
</div>

</div>

<div id="outline-container-8-3-2" class="outline-4">
<h4 id="sec-8-3-2"><span class="section-number-4">8.3.2</span> local variables</h4>
<div class="outline-text-4" id="text-8-3-2">

<p>     there are too many varibles and I just write comments in detail. You can check the source code. 
</p>
</div>

</div>

<div id="outline-container-8-3-3" class="outline-4">
<h4 id="sec-8-3-3"><span class="section-number-4">8.3.3</span> build doom treenonno</h4>
<div class="outline-text-4" id="text-8-3-3">

<p>     The dom tree looks like this below:
     -div //container
     &ndash;innerDiv //created by me
     &mdash;canvas  //canvas to show picture and zones
     what's the usage of innerDiv?
     when we tap the zones we need to create a div to show some information. But if I put the information div behind the container div. When we move the picture, we need to refresh the information div's position. And if we put it in in innerDiv. When moving the picture, and we just move the innerDiv, and the information div will move at the same time. 
</p>
</div>

</div>

<div id="outline-container-8-3-4" class="outline-4">
<h4 id="sec-8-3-4"><span class="section-number-4">8.3.4</span> draw the picture and the zones</h4>
<div class="outline-text-4" id="text-8-3-4">

<p>     This is easy. 
</p>
</div>

</div>

<div id="outline-container-8-3-5" class="outline-4">
<h4 id="sec-8-3-5"><span class="section-number-4">8.3.5</span> apply the event function</h4>
<div class="outline-text-4" id="text-8-3-5">

<p>     see the comments and it's easy to understand. 
     when I finished zoomIn and zoomOut, I found it's not prefect. Because, when zooming, the center of the two fingures is moving too. So, I try to make the function named zoomToPoint, to fix this bug, and finished it. 
</p>
</div>

</div>

<div id="outline-container-8-3-6" class="outline-4">
<h4 id="sec-8-3-6"><span class="section-number-4">8.3.6</span> bind the event</h4>
<div class="outline-text-4" id="text-8-3-6">

<p>     It is easy too. 
</p>
</div>

</div>

<div id="outline-container-8-3-7" class="outline-4">
<h4 id="sec-8-3-7"><span class="section-number-4">8.3.7</span> open some API for others.</h4>
<div class="outline-text-4" id="text-8-3-7">

<p>     Because 100 zones looks suck, So I open an API to hide them. And I open another API to regenerate some zones. 

</p>
<hr/>
</div>
</div>
</div>

</div>

<div id="outline-container-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Thank you</h2>
<div class="outline-text-2" id="text-9">

<p>   Thank you so much for giving me such a opportunity for me. If I could join you, I will try my best to work and learn. 

</p>
<hr/>
</div>

</div>

<div id="outline-container-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> My Blog</h2>
<div class="outline-text-2" id="text-10">

<p>   <a href="http://qoshi.me">http://qoshi.me</a>
   I have finished build these on github in two weekend. And there are not much content in it. Thank you for visiting. 
</p></div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-07-27T17:22+0800</p>
<p class="author">Author: Lulala</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
